<!DOCTYPE html>
<html>
<head><title>Chess</title>
<link rel="stylesheet" type="text/css" href="style.css">


<style>
.unvisited {background-color: #e0e0e0;}
.active { background-color:  #ffcc00 }
#pgn{
    height: 800px;
    overflow: scroll;
}
#deadpieces {
  border-style: solid;
}
</style>

<script src='pgn_reader.js'></script>

<script src='js/svg/d3.v2.js'></script>



</head>
<body>




<table><tr>
  <td valign='top'><div id="pgn"> pgn</div></td>
  <td valign='top'><svg id="chessboard" width="700" height="700"></svg></td>
  <td valign='top'><div id="deadpieces"></div></td>
</tr></table>


<script>
  pgn_main()
</script>


<script type="text/javascript" src="js/pgn/ConfigAndGlobals.js"></script>
<script type="text/javascript" src="js/pgn/Cell.js"></script>
<script type="text/javascript" src="js/pgn/Movement.js"></script>
<script type="text/javascript" src="js/pgn/Pieces.js"></script>
<script type="text/javascript" src="js/pgn/SVGStuff.js"></script>
<script type="text/javascript" src="js/pgn/Board.js"></script>


<script>
  var boardSize = document.getElementById('chessboard').clientWidth
setTheSizeForTheBoard(boardSize)
let board = new Board()

for ( let id in board.cells ) {
  svg_addCell(board.cells[id])
}

for ( let key in pieces ) {
  let piece = pieces[key]
  let id = getCellId_fromColumnAndRow( piece.column, piece.row)
  let cell = board.cells[id]
  piece.x = cell.px
  piece.y = cell.py
  cell.setPiece(piece)
  svg_addPieceIntoDom(piece)

}

</script>




</body>
</html>
