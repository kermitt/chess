<!DOCTYPE html>
<html>
<head><title>Chess</title>

<style>

/* The chess pieces are actually unicode, so to prevent them from being highlighted... */
/* I got this CSS from stackoverflow... the chess pieces are actually unicode and */
/* the browser 'wanted' to highlight them during drag-and-dropping actions sweep over them. */
/* The 'svg text' css prevents that. */
svg text {
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently supported by Chrome and Opera */
}

#chessboard {
  border-style: solid;
}

/* Paint cells different colors in different situations*/
.influenced {
  fill:#ffe34c;
}
.attackable {
  fill:#ffa500;
}
.supported {
  fill:#0000ff;
}
.killed {
 font-size: 200%;
}



</style>


<script src='js/svg/d3.v2.js'></script>
</head>
<body>

<table border='0'>
  <tr><td>
<svg id="chessboard" width="800" height="800"></svg></td>
</td><td>
</td>
</tr>
</table>

<script>
    let count = 1

  function log( msg) {
    let x = document.getElementById("log").value
    result = count + " : " + msg + "\n" + x
    count++
    document.getElementById("log").value = result
  } 


</script>

<script type="text/javascript" src="js/simple/DisplayLogic.js"></script>
<script type="text/javascript" src="js/simple/Board.js"></script>


<script>
const SIZE = 800 / 8
let board = new Board(SIZE)
board.board.forEach((row) => {
  row.forEach((cell)=> {
    addCell(cell)
  })
})

for ( let key in pieces ) {
  let piece = pieces[key]
  let cell = board.getCell( piece.column, piece.row)
  piece.x = cell.px
  piece.y = cell.py
  addPieceIntoDom(piece)
}



</script>




</body>
</html>
