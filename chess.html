<!DOCTYPE html>
<html>
 <head>
  <title>Chess</title>
  <link rel="stylesheet" type="text/css" href="js/chess/chess.css">
  <script src='js/chess/Models.js'></script>

   <script src='js/svg/d3.v2.js'></script>

 </head>
 <body>

<table border='1'><tr><td>
<svg id="chessboard" width="800" height="800"></svg>
</td><td valign='top'>
  <div id='active'>active</div>
<hr>
  <div id='logging'>logging</div>
<hr>
</td></tr></table>
   <script type="text/javascript" src="js/chess/chess.js"></script>
    <p><button onclick="doSomething();">dosomething</button><p>


<script>



  function monitor_setup() { 
    let table = "<table border='1'>"
    for ( let key in pieces.pieces) { 
      let possible_moves_div = "<div='" + key + "_move'></div>"
      table += "<tr><td align='right'>" + key + "</td><td>&nbsp;</td><td><div='" + key + "'></div></td><td>" +  possible_moves_div + "</td><td><button onclick=\"remove('" + key + "');\">Remove</button></td></tr>"
    }
    table += "</table>"
    document.getElementById("logging").innerHTML = table     


  }
  function remove(key) {


    let kill = []
    for ( let key in pieces.pieces) { 
      if ( key == "BLACK_QUEEN_1") {
        // 
      } else {
        let p = pieces.pieces[key]
        d3.select('#' + p.key).remove()
        delete pieces.pieces[key]
      }
    }
    console.log(JSON.stringify(pieces.pieces) )
  }
  monitor_setup()

</script>

 </body>
</html>
